"use strict";const URL="https://studenter.miun.se/~joro1803/dt173g/projekt/backend/educationlist.php/education/";function addEducation(){let e=document.getElementById("hie").value,t=document.getElementById("name").value,d=document.getElementById("credits").value,n=document.getElementById("startdate").value,a=document.getElementById("enddate").value;""!=e&&""!=t&&""!=d&&""!=n&&""!=a||location.reload(),isNaN(d)&&(alert("Ange ett numreriskt värde för antal högskolepoäng!"),location.reload());let o=JSON.stringify({hie:e,name:t,credits:d,startdate:n,enddate:a});event.preventDefault(),fetch(URL,{method:"POST",body:o}).then(e=>e.json()).then(e=>clearEducationFields()).catch(e=>console.log(e))}function getEducation(){document.getElementById("updateEducationForm").style.display="none",fetch(URL).then(e=>e.json()).then(e=>{let t="";e.forEach(function(e){t+="<article class = 'box-wrapper'><div class = 'educationBox'><p><span class ='lead-text'>Lärosäte: </span>"+e.hie+"</p><p><span class ='lead-text'>Utblidning: </span>"+e.name+"</p><p><span class ='lead-text'>Högskolepoäng: </span>"+e.credits+"</p><p><span class ='lead-text'>Startdatum: </span>"+e.startdate+"</p><p><span class ='lead-text'>Slutdatum: </span>"+e.enddate+'</p></div><div class ="button-box"><button class ="update-button" onClick="updateEducationSend(this.id,\''+e.hie+"', '"+e.name+"', '"+e.credits+"', '"+e.startdate+"',  '"+e.enddate+"'  )\"id="+e.id+">Uppdatera # "+e.id+"</button><button class ='delete-button' onclick ='deleteEducation(this.id)' id ="+e.id+">Radera # "+e.id+"</button></div></article>"}),document.getElementById("output").innerHTML=t}).catch(e=>console.log(e))}function deleteEducation(e){$("#deleted-div").addClass("on"),$("#deleted-div").one(animationEvent,function(e){$("#deleted-div").removeClass("on")}),fetch(URL+e+"/",{method:"DELETE"}).then(e=>getEducation()).catch(e=>console.log(e))}function updateEducation(){let e=document.getElementById("educationId").value,t=document.getElementById("updateHie").value,d=document.getElementById("updateName").value,n=document.getElementById("updateCredits").value,a=document.getElementById("updateStartdate").value,o=document.getElementById("updateEnddate").value,l=JSON.stringify({hie:t,name:d,credits:n,startdate:a,enddate:o});event.preventDefault(),fetch(URL+"/"+e,{method:"PUT",body:l}).then(e=>e.json()).then(e=>getEducation()).catch(e=>console.log(e))}function updateEducationSend(e,t,d,n,a,o){document.getElementById("updateEducationForm").style.display="block",document.getElementById("educationId").value=e,document.getElementById("updateHie").value=t,document.getElementById("updateName").value=d,document.getElementById("updateCredits").value=n,document.getElementById("updateStartdate").value=a,document.getElementById("updateEnddate").value=o}function clearEducationFields(){document.getElementById("hie").value="",document.getElementById("name").value="",document.getElementById("credits").value="",document.getElementById("startdate").value="",document.getElementById("enddate").value="",getEducation()}let animationEvent="webkitAnimationEnd oanimationend msAnimationEnd animationend";$(".add-button").click(function(){$("#added-div").addClass("on"),$("#added-div").one(animationEvent,function(e){$("#added-div").removeClass("on")})}),$(".form-update-button").click(function(){$("#updated-div").addClass("on"),$("#updated-div").one(animationEvent,function(e){$("#updated-div").removeClass("on")})});const JOBURL="https://studenter.miun.se/~joro1803/dt173g/projekt/backend/joblist.php/jobs/";function addJob(){let e=document.getElementById("workplace").value,t=document.getElementById("title").value,d=document.getElementById("startdatejob").value,n=document.getElementById("enddatejob").value;""!=e&&""!=t&&""!=d&&""!=n||location.reload();let a=JSON.stringify({workplace:e,title:t,startdate:d,enddate:n});event.preventDefault(),fetch(JOBURL,{method:"POST",body:a}).then(e=>e.json()).then(e=>clearJobFields()).catch(e=>console.log(e))}function getJobs(){document.getElementById("updateJobForm").style.display="none",fetch(JOBURL).then(e=>e.json()).then(e=>{let t="";e.forEach(function(e){t+="<article class = 'box-wrapper'><div class = 'jobBox'><p><span class ='lead-text'>Arbetsplats: </span>"+e.workplace+"</p><p><span class ='lead-text'>Arbetstitel: </span>"+e.title+"</p><p><span class ='lead-text'>Startdatum: </span>"+e.startdate+"</p><p><span class ='lead-text'>Slutdatum: </span>"+e.enddate+'</p></div><div class ="button-box"><button class ="update-button" onClick="updateJobSend(this.id,\''+e.workplace+"', '"+e.title+"', '"+e.startdate+"',  '"+e.enddate+"'  )\"id="+e.id+">Uppdatera # "+e.id+"</button><button class ='delete-button' onclick ='deleteJob(this.id)' id ="+e.id+">Radera #"+e.id+"</button></div></article>"}),document.getElementById("outputjobs").innerHTML=t}).catch(e=>console.log(e))}function deleteJob(e){$("#deleted-div").addClass("on"),$("#deleted-div").one(animationEvent,function(e){$("#deleted-div").removeClass("on")}),fetch(JOBURL+e+"/",{method:"DELETE"}).then(e=>getJobs()).catch(e=>console.log(e))}function updateJob(){let e=document.getElementById("jobId").value,t=document.getElementById("updateWorkplace").value,d=document.getElementById("updateTitle").value,n=document.getElementById("updateStartdatejob").value,a=document.getElementById("updateEnddatejob").value,o=JSON.stringify({workplace:t,title:d,startdate:n,enddate:a});event.preventDefault(),fetch(JOBURL+"/"+e,{method:"PUT",body:o}).then(e=>e.json()).then(e=>getJobs()).catch(e=>console.log(e))}function updateJobSend(e,t,d,n,a){document.getElementById("updateJobForm").style.display="block",document.getElementById("jobId").value=e,document.getElementById("updateWorkplace").value=t,document.getElementById("updateTitle").value=d,document.getElementById("updateStartdatejob").value=n,document.getElementById("updateEnddatejob").value=a}function clearJobFields(){document.getElementById("workplace").value="",document.getElementById("title").value="",document.getElementById("startdatejob").value="",document.getElementById("enddatejob").value="",getJobs()}window.onload=function(){getWebpages(),getJobs(),getEducation()};const WEBPAGEURL="https://studenter.miun.se/~joro1803/dt173g/projekt/backend/webpagelist.php/webpages/";function addWebpage(){let e=document.getElementById("webpagetitle").value,t=document.getElementById("webpageurl").value,d=document.getElementById("webpagedescription").value;""!=e&&""!=t&&""!=d||location.reload();let n=JSON.stringify({title:e,url:t,description:d});event.preventDefault(),fetch(WEBPAGEURL,{method:"POST",body:n}).then(e=>e.json()).then(e=>clearWebpageFields()).catch(e=>console.log(e))}function getWebpages(){document.getElementById("updateWebpageForm").style.display="none",fetch(WEBPAGEURL).then(e=>e.json()).then(e=>{let t="";e.forEach(function(e){t+="<article class = 'box-wrapper'><div class = 'webpageBox'><p><p><span class ='lead-text'>Titel: </span>"+e.title+"</p><p><span class ='lead-text'>URL: </span>"+e.url+"</p><p><span class ='lead-text'>Beskrivning: </span>"+e.description+'</p></div><div class ="button-box"><button class ="update-button" onClick="updateWebpageSend(this.id,\''+e.title+"', '"+e.url+"',  '"+e.description+"'  )\"id="+e.id+">Uppdatera # "+e.id+"</button><button class ='delete-button' onclick ='deleteWebpage(this.id)' id ="+e.id+">Radera #"+e.id+"</button></div></article>"}),document.getElementById("outputwebpages").innerHTML=t}).catch(e=>console.log(e))}function deleteWebpage(e){$("#deleted-div").addClass("on"),$("#deleted-div").one(animationEvent,function(e){$("#deleted-div").removeClass("on")}),fetch(WEBPAGEURL+e+"/",{method:"DELETE"}).then(e=>getWebpages()).catch(e=>console.log(e))}function updateWebpage(){let e=document.getElementById("webpageId").value,t=document.getElementById("updateWebpagetitle").value,d=document.getElementById("updateWebpageurl").value,n=document.getElementById("updateWebpagedescription").value,a=JSON.stringify({title:t,url:d,description:n});event.preventDefault(),fetch(WEBPAGEURL+"/"+e,{method:"PUT",body:a}).then(e=>e.json()).then(e=>getWebpages()).catch(e=>console.log(e))}function updateWebpageSend(e,t,d,n){document.getElementById("updateWebpageForm").style.display="block",document.getElementById("webpageId").value=e,document.getElementById("updateWebpagetitle").value=t,document.getElementById("updateWebpageurl").value=d,document.getElementById("updateWebpagedescription").value=n}function clearWebpageFields(){document.getElementById("webpagetitle").value="",document.getElementById("webpageurl").value="",document.getElementById("webpagedescription").value="",getWebpages()}